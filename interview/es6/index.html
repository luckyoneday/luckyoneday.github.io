<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>ES6及新特性相关 - xuyou&#39;s blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="xuyou" /><meta name="description" content="ES6及新特性相关" /><meta name="keywords" content="interview" />






<meta name="generator" content="Hugo 0.80.0 with theme even" />


<link rel="canonical" href="https://luckyoneday.github.io/interview/es6/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.d1bd9f81869ae63bddbc319f6ae30b499dc847b2b385544cf9c4f6f97045941b.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="ES6及新特性相关" />
<meta property="og:description" content="ES6及新特性相关" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://luckyoneday.github.io/interview/es6/" />
<meta property="article:published_time" content="2021-04-27T20:43:32+08:00" />
<meta property="article:modified_time" content="2021-04-27T20:43:32+08:00" />
<meta itemprop="name" content="ES6及新特性相关">
<meta itemprop="description" content="ES6及新特性相关">
<meta itemprop="datePublished" content="2021-04-27T20:43:32+08:00" />
<meta itemprop="dateModified" content="2021-04-27T20:43:32+08:00" />
<meta itemprop="wordCount" content="3405">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ES6及新特性相关"/>
<meta name="twitter:description" content="ES6及新特性相关"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">xuyou</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">目录</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/daily/">
        <li class="mobile-menu-item">小笔记</li>
      </a><a href="/interview/">
        <li class="mobile-menu-item">面试题</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于我</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">xuyou</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">目录</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/daily/">小笔记</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/interview/">面试题</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于我</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">ES6及新特性相关</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-04-27 </span>
        
          <span class="more-meta"> 约 3405 字 </span>
          <span class="more-meta"> 预计阅读 7 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div
    class="post-toc-content"
  >
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#es6">ES6</a>
          <ul>
            <li><a href="#let-const">let const</a></li>
            <li><a href="#解构">解构</a></li>
            <li><a href="#函数">函数</a></li>
            <li><a href="#箭头函数">箭头函数</a></li>
            <li><a href="#数组">数组</a></li>
            <li><a href="#属性遍历">属性遍历</a></li>
            <li><a href="#set-和-map">Set 和 Map</a></li>
            <li><a href="#reflect">Reflect</a></li>
            <li><a href="#proxy">Proxy</a></li>
            <li><a href="#promise">Promise</a></li>
            <li><a href="#class">Class</a></li>
            <li><a href="#es6-module">ES6 module</a></li>
          </ul>
        </li>
        <li><a href="#es7">ES7</a>
          <ul>
            <li><a href="#arrayprototypeincludes"><code>Array.prototype.includes</code></a></li>
            <li><a href="#指数函数中缀表示">指数函数中缀表示</a></li>
          </ul>
        </li>
        <li><a href="#es8">ES8</a>
          <ul>
            <li><a href="#objectvalues-objectentries"><code>Object.values</code> <code>Object.entries</code></a></li>
            <li><a href="#stringprototypepadstart-和-stringprototypepadend"><code>String.prototype.padStart</code> 和 <code>String.prototype.padEnd</code></a></li>
            <li><a href="#objectgetownpropertydescriptors"><code>Object.getOwnPropertyDescriptors</code></a></li>
            <li><a href="#async-和-await"><code>Async</code> 和 <code>Await</code></a></li>
          </ul>
        </li>
        <li><a href="#es9">ES9</a>
          <ul>
            <li><a href="#异步迭代器">异步迭代器</a></li>
          </ul>
        </li>
        <li><a href="#es10">ES10</a>
          <ul>
            <li><a href="#stringprototypetrimstart-和-stringprototypetrimend"><code>String.prototype.trimStart</code> 和 <code>String.prototype.trimEnd</code></a></li>
            <li><a href="#arrayprototypeflat-和-arrayprototypeflatmap"><code>Array.prototype.flat</code> 和 <code>Array.prototype.flatMap</code></a></li>
          </ul>
        </li>
        <li><a href="#es2020">ES2020</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>

    <div class="post-content">
      <h2 id="es6">ES6</h2>
<h3 id="let-const">let const</h3>
<p>ES6 之前只有函数作用域和全局作用域。</p>
<ul>
<li><code>var</code> 会带来变量提升，声明提升到当前作用域顶部，会造成污染。</li>
<li>在花括号 <code>{}</code> 内部由 <code>let</code> 关键字声明的函数，才是真正的处于块级作用域内部。</li>
<li>不存在变量提升</li>
<li>暂时性死区：只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，才可以获取和使用该变量。</li>
<li>不允许重复声明变量。</li>
</ul>
<h3 id="解构">解构</h3>
<div class="admonition info"><p class="admonition-title">数组解构</p>
<ul>
<li>只要某种数据结构具有 Iterator 接口，都可以采用数组形式的解构赋值</li>
<li>只有当一个数组成员严格等于 <code>=== undefined</code>，解构默认值才会生效<br>
<code>let [x = 1] = [null]; // x: null</code></li>
<li>惰性求值，能取到就不会走默认值<br>
<code>function f() { return 'aaa' }; let [x = f()] = [1]; // x: 1</code></li>
<li>默认值可以引用解构赋值的其他变量（从左到右），但该变量必须已经声明。</li>
<li>字符串也可以解构，会被转化成类数组解构</li>
</ul>
</div>
<div class="admonition info"><p class="admonition-title">对象解构</p>
<ul>
<li>数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值</li>
<li>对象的解构赋值可以取到继承的属性</li>
<li>只有当一个属性严格等于 <code>=== undefined</code>，解构默认值才会生效</li>
</ul>
</div>
<h3 id="函数">函数</h3>
<ul>
<li>默认传参的参数变量是默认声明的，所以不能用 <code>let</code> 或 <code>const</code> 再次声明。</li>
<li><code>length</code> 属性可返回<strong>没有指定默认值</strong>的参数个数。
<ul>
<li><code>...rest</code> 参数也不会计入 <code>length</code> 属性，<code>...rest</code> 需要是最后一个参数。</li>
<li>如果设置了默认值的参数不是尾参数，那么 <code>length</code> 属性也不再计入后面的参数了。</li>
</ul>
</li>
</ul>
<!-- <> -->
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-md" data-lang="md">(function (a, b, c = 5) {}).length // 2
(function(...args) {}).length // 0
(function (a = 1, b, c) {}).length // 0
</code></pre></td></tr></table>
</div>
</div><ul>
<li>函数的 <code>name</code> 属性，返回该函数的函数名。</li>
</ul>
<h3 id="箭头函数">箭头函数</h3>
<ul>
<li>箭头函数没有 <code>arguments</code>，没有 <code>constructor</code>，无法被 <code>new</code>。</li>
<li>函数体内的 <code>this</code> 对象，就是<strong>定义时</strong>所在的对象，而不是使用时所在的对象。</li>
<li>不能用 <code>yield</code> 命令，无法用作 Generator 函数。</li>
</ul>
<h3 id="数组">数组</h3>
<ul>
<li>扩展运算符可以将字符串转化为数组</li>
<li>任何定义了 <code>Iterator</code> 接口的对象都可以用扩展运算符转化为数组</li>
<li>对于那些没有部署 <code>Iterator</code> 接口的类似数组的对象 <code>{ length: 3 }</code>，扩展运算符无法将其转为真正的数组，但是 <code>Array.from</code> 可以</li>
<li><code>Map</code>、<code>Set</code>、<code>Generator</code> 使用扩展运算符都可以转化为数组</li>
<li><code>Array.from</code> 可以把两类对象转为真正的数组：类似数组的对象（array-like object）和可遍历（iterable）的对象（包括 ES6 新增的数据结构 Set 和 Map）</li>
</ul>
<h3 id="属性遍历">属性遍历</h3>
<p>ES6 一共有 5 种方法遍历属性：</p>
<ul>
<li><code>for...in</code> 循环遍历对象<strong>自身的和继承的</strong>可枚举属性（不含 Symbol 属性）</li>
<li><code>Object.keys(obj)</code> 返回一个数组，包括对象<strong>自身的不含继承的</strong>所有可枚举属性（不含 Symbol 属性）的键名。</li>
<li><code>Object.getOwnPropertyNames</code> 返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。</li>
<li><code>Object.getOwnPropertySymbols</code> 返回一个数组，包含对象自身的所有 Symbol 属性的键名。</li>
<li><code>Reflect.ownKeys</code> 返回一个数组，包含对象<strong>自身的不含继承的</strong>所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。</li>
</ul>
<h3 id="set-和-map">Set 和 Map</h3>
<p><code>Set</code> 和 <code>Map</code> 中 <code>NaN</code> 和 <code>NaN</code> 相同。<code>.keys()</code>、<code>.values()</code>、<code>.entries()</code> 返回的都是遍历器。</p>
<h4 id="set"><code>Set</code></h4>
<ul>
<li>去重：不会重复添加</li>
<li>遍历顺序是插入顺序</li>
<li>WeakSet 结构与 Set 类似，但是成员只能是对象，没有 <code>size</code> 属性，不能遍历</li>
</ul>
<h4 id="map"><code>Map</code></h4>
<ul>
<li>对象键只能是字符串，<code>Map</code> 的 <code>key</code> 可以是对象，当是对象的时候只要内存地址不一样，就视为两个键；需要严格相等，类型不一样也是两个键</li>
<li>遍历顺序是插入顺序</li>
<li>WeakMap 只接受对象作为键名，没有 <code>size</code> 属性，不能遍历</li>
</ul>
<h3 id="reflect">Reflect</h3>
<ul>
<li>将 Object 对象的一些明显属于语言内部的方法（比如 <code>Object.defineProperty</code>），放到 Reflect 对象上。</li>
<li>让 Object 操作都变成函数行为。某些 Object 操作是命令式，比如 <code>name in obj</code> 和 <code>delete obj[name]</code>，而 <code>Reflect.has(obj, name)</code>和 <code>Reflect.deleteProperty(obj, name)</code> 让它们变成了函数行为。</li>
<li>Reflect 对象的方法与 Proxy 对象的方法一一对应。不管 Proxy 怎么修改默认行为，总是可以在 Reflect 上获取默认行为。</li>
</ul>
<h3 id="proxy">Proxy</h3>
<p>用于修改某些操作的默认行为，在目标对象之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。</p>
<ul>
<li><code>get(target, propKey, receiver)</code>：拦截对象属性的读取，比如 <code>proxy.foo</code> 和 <code>proxy['foo']</code>。</li>
<li><code>set(target, propKey, value, receiver)</code>：拦截对象属性的设置，比如 <code>proxy.foo = v</code> 或 <code>proxy['foo'] = v</code>，返回一个布尔值。</li>
<li><code>has(target, propKey)</code>：拦截 <code>propKey in proxy</code> 的操作，返回一个布尔值，对 <code>for...in</code> 不生效。</li>
<li><code>deleteProperty(target, propKey)</code>：拦截 <code>delete proxy[propKey]</code> 的操作，返回一个布尔值。</li>
<li><code>ownKeys(target)</code>：拦截 <code>Object.getOwnPropertyNames(proxy)</code>、<code>Object.getOwnPropertySymbols(proxy</code>)、<code>Object.keys(proxy)</code>、<code>for...in</code> 循环，返回一个数组。该方法返回目标对象所有自身的属性的属性名，而 <code>Object.keys()</code> 的返回结果仅包括目标对象自身的可遍历属性。</li>
<li><code>getOwnPropertyDescriptor(target, propKey)</code>：拦截 <code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>，返回属性的描述对象。</li>
<li><code>defineProperty(target, propKey, propDesc)</code>：拦截 <code>Object.defineProperty(proxy, propKey, propDesc)</code>、<code>Object.defineProperties(proxy, propDescs)</code>，返回一个布尔值。</li>
<li><code>getPrototypeOf(target)</code>：拦截 <code>Object.getPrototypeOf(proxy)</code>，返回一个对象。</li>
<li><code>setPrototypeOf(target, proto)</code>：拦截 <code>Object.setPrototypeOf(proxy, proto)</code>，返回一个布尔值。如果目标对象是函数，那么还有两种额外操作可以拦截。</li>
<li><code>apply(target, object, args)</code>：拦截 Proxy 实例作为函数调用的操作，比如 <code>proxy(...args)</code>、<code>proxy.call(object, ...args)</code>、<code>proxy.apply(...)</code>。</li>
<li><code>construct(target, args)</code>：拦截 Proxy 实例作为构造函数调用的操作，比如 <code>new proxy(...args)</code>，需要返回一个对象。</li>
</ul>
<h3 id="promise">Promise</h3>
<p>手写 XHR</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">getJSON</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">handler</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">response</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statusText</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span> <span class="nx">url</span><span class="p">);</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">responseType</span> <span class="o">=</span> <span class="s2">&#34;json&#34;</span><span class="p">;</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&#34;Accept&#34;</span><span class="p">,</span> <span class="s2">&#34;application/json&#34;</span><span class="p">);</span>
    <span class="nx">client</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="k">return</span> <span class="nx">promise</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="class">Class</h3>
<ul>
<li>构造函数的另一种写法： <code>class Point {}; typeof Point // &quot;function&quot;</code></li>
<li>类的所有方法都定义在类的 <code>prototype</code> 属性上面，且都是不可枚举的</li>
<li>类必须使用 <code>new</code> 调用，否则会报错。普通构造函数不用 <code>new</code> 也可以调用</li>
<li>不存在提升</li>
<li>也有 <code>name</code> 属性</li>
<li>如果在一个方法前，加上 <code>static</code> 关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”。静态方法可以被子类继承，但是不会被实例继承</li>
</ul>
<h3 id="es6-module">ES6 module</h3>
<p><code>&lt;script&gt;</code> 设置 <code>type=&quot;module&quot;</code> 来引入一个 ES6 模块，会异步加载，不会造成堵塞浏览器，即等到整个页面渲染完，再执行模块脚本，等同于打开了<code>&lt;script&gt;</code> 标签的 defer 属性，会按照在页面出现的顺序依次执行。</p>
<p>也可以设置 <code>async</code> 属性，但是不会按照在页面出现的顺序执行，而是只要该模块加载完成，就执行该模块。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;module&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;./foo.js&#34;</span> <span class="na">async</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="与-commonjs-的区别">与 CommonJS 的区别</h4>
<ul>
<li>CommonJS 主要用于服务端。</li>
<li>CommonJS 输出的是一个值的拷贝，ES6 输出的是值的引用。</li>
<li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。</li>
<li>CommonJS 的 <code>require()</code> 是同步加载模块，ES6 模块的 import 命令是异步加载，有一个独立的模块依赖的解析阶段。</li>
<li>ES6 模块的 <code>import</code> 命令可以加载 CommonJS 模块，但是<strong>只能整体加载</strong>，不能只加载单一的输出项。</li>
</ul>
<p><code>require</code> 第一次加载脚本时，会执行整个脚本，然后在内存中生成一个对象：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
  <span class="nx">exports</span><span class="o">:</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span>
  <span class="nx">loaded</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>之后再用到这个模块时，就会到 <code>exports</code> 对象上面取值。一旦出现某个模块被&quot;循环加载&quot;，就只输出已经执行的部分，还未执行的部分不会输出。</p>
<h4 id="amd">AMD</h4>
<ul>
<li>主要用于浏览器端</li>
<li>引用模块的时候，将模块名放在 <code>[]</code> 中作为 <code>reqiure()</code> 的第一参数，如果定义的模块本身也依赖其他模块,那就需要将它们放在 <code>[]</code> 中作为 <code>define()</code> 的第一参数</li>
<li>依赖前置、提前执行</li>
</ul>
<h2 id="es7">ES7</h2>
<h3 id="arrayprototypeincludes"><code>Array.prototype.includes</code></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">NaN</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="kc">NaN</span><span class="p">);</span> <span class="c1">// true
</span><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">NaN</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// false
</span><span class="c1"></span>
<span class="c1">// 第二个参数是开始的下标
</span><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">NaN</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// false
</span></code></pre></td></tr></table>
</div>
</div><h3 id="指数函数中缀表示">指数函数中缀表示</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="mi">2</span> <span class="o">**</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// 等同于 2*2
</span><span class="c1"></span><span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// 等同于2*2*2
</span></code></pre></td></tr></table>
</div>
</div><h2 id="es8">ES8</h2>
<h3 id="objectvalues-objectentries"><code>Object.values</code> <code>Object.entries</code></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">&#34;xxx&#34;</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// [&#39;xxx&#39;, 1]
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span> <span class="c1">// [[&#39;x&#39;, &#39;xxx&#39;], [&#39;y&#39;, 1]]
</span></code></pre></td></tr></table>
</div>
</div><h3 id="stringprototypepadstart-和-stringprototypepadend"><code>String.prototype.padStart</code> 和 <code>String.prototype.padEnd</code></h3>
<ul>
<li>第一个参数为需要达到的长度，若小于当前字符串则返回字符串本身</li>
<li>第二个参数为填充使用的字符串，默认为空格。若比需要填充的空格长，则会被截断。</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="s2">&#34;es8&#34;</span><span class="p">.</span><span class="nx">padStart</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// &#39;es8&#39;
</span><span class="c1"></span><span class="s2">&#34;es8&#34;</span><span class="p">.</span><span class="nx">padStart</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// &#39;  es8&#39;
</span><span class="c1"></span><span class="s2">&#34;es8&#34;</span><span class="p">.</span><span class="nx">padStart</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&#34;1891&#34;</span><span class="p">);</span> <span class="c1">// &#39;189es8&#39;
</span><span class="c1"></span>
<span class="s2">&#34;es8&#34;</span><span class="p">.</span><span class="nx">padEnd</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="s2">&#34;coffe&#34;</span><span class="p">);</span> <span class="c1">// &#39;es8coffecoffec&#39;
</span><span class="c1"></span><span class="s2">&#34;es8&#34;</span><span class="p">.</span><span class="nx">padEnd</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&#34;9&#34;</span><span class="p">);</span> <span class="c1">// &#39;es89999&#39;
</span></code></pre></td></tr></table>
</div>
</div><h3 id="objectgetownpropertydescriptors"><code>Object.getOwnPropertyDescriptors</code></h3>
<p>返回指定对象所有**自身属性（非继承属性）**的描述对象。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">aaa</span><span class="o">:</span> <span class="s2">&#34;1111&#34;</span> <span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptors</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">{</span>
  <span class="nx">aaa</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">configurable</span><span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&#34;1111&#34;</span><span class="p">;</span>
    <span class="nx">writable</span><span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="async-和-await"><code>Async</code> 和 <code>Await</code></h3>
<h2 id="es9">ES9</h2>
<h3 id="异步迭代器">异步迭代器</h3>
<p><code>await</code> 可以和 <code>for...of</code> 一起使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">func</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="kr">await</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="k">of</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//异步迭代
</span><span class="c1"></span>    <span class="nx">someFunc</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="es10">ES10</h2>
<h3 id="stringprototypetrimstart-和-stringprototypetrimend"><code>String.prototype.trimStart</code> 和 <code>String.prototype.trimEnd</code></h3>
<p>去除字符串首尾空格。</p>
<h3 id="arrayprototypeflat-和-arrayprototypeflatmap"><code>Array.prototype.flat</code> 和 <code>Array.prototype.flatMap</code></h3>
<p>数组降维度。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">r</span><span class="p">;</span>
<span class="nx">r</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;8&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;9&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">]]]].</span><span class="nx">flat</span><span class="p">();</span> <span class="c1">//4维数组，默认降维1，变成3维数组
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="c1">// [ &#39;1&#39;, &#39;8&#39;, [ &#39;9&#39;, [&#39;1&#39;] ] ]
</span><span class="c1"></span>
<span class="nx">r</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;8&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;9&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">]]]].</span><span class="nx">flat</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">//4维数组，降维2，变成2维数组
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="c1">// [ &#39;1&#39;, &#39;8&#39;, &#39;9&#39;, [&#39;1&#39;] ]
</span><span class="c1"></span>
<span class="nx">r</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;8&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;9&#34;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&#34;1&#34;</span><span class="p">]]]].</span><span class="nx">flat</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span> <span class="c1">//4维数组，最多变成1维数组
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="c1">// [ &#39;1&#39;, &#39;8&#39;, &#39;9&#39;, &#39;1&#39; ]
</span><span class="c1"></span>
<span class="c1">// 先map再flat
</span><span class="c1"></span><span class="nx">r</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;I love&#34;</span><span class="p">,</span> <span class="s2">&#34;coffe 1891&#34;</span><span class="p">].</span><span class="nx">flatMap</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="c1">//&gt;&gt;[ &#39;I&#39;, &#39;love&#39;, &#39;coffe&#39;, &#39;1891&#39; ]
</span></code></pre></td></tr></table>
</div>
</div><h2 id="es2020">ES2020</h2>
<ul>
<li>Optional chaining 可选链操作符：<code>a?.b?.c</code>，只会验证对象是否为 <code>null</code> 或 <code>undefined</code>，不会对所有 Falsy 值做兼容。</li>
<li>Nullish coalescing Operator 空值处理：左侧为 <code>undefined</code> 或 <code>null</code> 就返回右边 <code>a ?? {}</code></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">xuyou</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2021-04-27
    </span>
  </p>
  
  
  
</div>


    <footer class="post-footer">
      </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2021-04-27 20:43:32 \u002b0800 \u002b0800',
        title: 'ES6及新特性相关',
        clientID: 'e4834619e7a306a7137b',
        clientSecret: '0931ad0ebb2cf3c20900daea5f065b73ee842bac',
        repo: 'luckyoneday.github.io',
        owner: 'luckyoneday',
        admin: ['luckyoneday'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/luckyoneday" class="iconfont icon-github" title="github"></a>
  <a href="https://luckyoneday.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2019 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>xuyou</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
